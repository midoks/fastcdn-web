var z=(w,h,b)=>new Promise((a,d)=>{var v=x=>{try{g(b.next(x))}catch(c){d(c)}},y=x=>{try{g(b.throw(x))}catch(c){d(c)}},g=x=>x.done?a(x.value):Promise.resolve(x.value).then(v,y);g((b=b.apply(w,h)).next())});import{f as U,$ as s,Y as u,Z as V,_ as S}from"./bootstrap-Btv5qJSO.js";import{d as H,g as k,c as T,k as r,l as p,n as t,x as n,s as i,F as j,L as N,m,y as C,M as l}from"./index-index-DrKJHObh.js";const B={style:{"min-height":"100vh","background-color":"#f9f9f9",padding:"20px","font-family":"Arial, sans-serif"}},I={style:{"max-width":"800px",margin:"0 auto"}},L={style:{"text-align":"center","margin-bottom":"30px"}},D={style:{"font-size":"28px",color:"#333","margin-bottom":"10px"}},E={style:{color:"#666","font-size":"14px"}},F={style:{"margin-bottom":"30px"}},R={style:{display:"flex","justify-content":"center","align-items":"center",gap:"20px"}},$={key:0,style:{width:"40px",height:"2px","background-color":"#ddd","margin-left":"15px"}},q={style:{"background-color":"white","border-radius":"8px",padding:"30px","box-shadow":"0 2px 10px rgba(0,0,0,0.1)"}},A={key:0,style:{"margin-bottom":"20px"}},W={style:{"text-align":"center","margin-bottom":"20px"}},Y={style:{"font-size":"20px",color:"#333","margin-bottom":"15px"}},Z={style:{color:"#555","line-height":"1.6"}},G={style:{"margin-bottom":"15px"}},J={style:{"margin-bottom":"15px"}},K={style:{"background-color":"#fff3cd",border:"1px solid #ffeaa7","border-radius":"4px",padding:"15px","margin-bottom":"15px"}},O={style:{"font-size":"14px",margin:"0"}},Q={style:{"background-color":"#d1ecf1",border:"1px solid #bee5eb","border-radius":"4px",padding:"15px","margin-bottom":"20px"}},X={style:{"font-size":"14px",margin:"0"}},tt={style:{"text-align":"right"}},ot={key:1,style:{"margin-bottom":"20px"}},et={style:{"text-align":"center","margin-bottom":"20px"}},st={style:{"font-size":"20px",color:"#333","margin-bottom":"10px"}},nt={style:{color:"#666","font-size":"14px"}},it={style:{"max-width":"400px",margin:"0 auto 20px"}},dt={style:{"margin-bottom":"15px"}},at={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},rt={style:{"margin-bottom":"15px"}},pt={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},lt={style:{"margin-bottom":"15px"}},ut={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},bt={style:{display:"flex","justify-content":"space-between"}},xt={key:2,style:{"margin-bottom":"20px"}},gt={style:{"text-align":"center","margin-bottom":"20px"}},mt={style:{"font-size":"20px",color:"#333","margin-bottom":"10px"}},yt={style:{color:"#666","font-size":"14px"}},ct={style:{"max-width":"400px",margin:"0 auto 20px"}},ft={style:{"margin-bottom":"15px"}},vt={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},_t={style:{"margin-bottom":"15px"}},ht={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},kt={style:{"margin-bottom":"15px"}},wt={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},zt={style:{"margin-bottom":"15px"}},Ct={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},Pt={style:{"margin-bottom":"15px"}},Mt={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},Ut={style:{"margin-top":"15px"}},Vt={style:{display:"flex","justify-content":"space-between"}},St={key:3,style:{"margin-bottom":"20px"}},Ht={style:{"text-align":"center","margin-bottom":"20px"}},Tt={style:{"font-size":"20px",color:"#333","margin-bottom":"10px"}},jt={style:{color:"#666","font-size":"14px"}},Nt={style:{"max-width":"100%",margin:"0 auto 20px"}},Bt={style:{"margin-bottom":"15px"}},It={style:{width:"140px",display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},Lt={style:{"margin-bottom":"15px"}},Dt={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},Et={style:{"margin-bottom":"15px"}},Ft={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},Rt={style:{"margin-bottom":"15px"}},$t={style:{display:"block","margin-bottom":"5px",color:"#333","font-size":"14px"}},qt={style:{display:"flex","justify-content":"space-between"}},At=["disabled"],Wt={key:0},Yt={key:1},Zt={key:4,style:{"text-align":"center","margin-bottom":"20px"}},Gt={style:{width:"64px",height:"64px","background-color":"#d4edda","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center",margin:"0 auto 20px"}},Jt={style:{width:"32px",height:"32px",color:"#28a745"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Kt={style:{"margin-bottom":"20px"}},Ot={style:{"font-size":"24px","font-weight":"bold",color:"#333","margin-bottom":"10px"}},Qt={style:{color:"#666","font-size":"14px"}},P=5,Xt=H({name:"Setup",__name:"setup",setup(w){const h=U(),b=k(!1),a=k(1),d=k({apiHost:"127.0.0.1",apiPort:10001,apiProtocol:"http",databaseHost:"127.0.0.1",databasePort:3306,databaseName:"fastcdn",databaseUsername:"root",databasePassword:"",adminUsername:"",adminPassword:"",confirmPassword:"",adminEmail:""}),v=T(()=>[{key:"introduction",title:s("page.setup.steps.introduction")},{key:"apiConfig",title:s("page.setup.steps.apiConfig")},{key:"database",title:s("page.setup.steps.database")},{key:"admin",title:s("page.setup.steps.admin")},{key:"complete",title:s("page.setup.steps.complete")}]);function y(){a.value<P&&a.value++}function g(){a.value>1&&a.value--}function x(){console.log("Testing database connection...",{host:d.value.databaseHost,port:d.value.databasePort,name:d.value.databaseName,username:d.value.databaseUsername})}function c(){return z(this,null,function*(){if(!b.value){b.value=!0;try{console.log("Installing with data:",d.value),yield new Promise(_=>setTimeout(_,2e3)),a.value=P}catch(_){console.error("Installation failed:",_)}finally{b.value=!1}}})}function M(){h.push("/auth/login")}return(_,o)=>(p(),r("div",B,[t("div",I,[t("div",L,[t("h2",D,n(i(s)("page.setup.title")),1),t("p",E,n(i(s)("page.setup.description")),1)]),t("div",F,[t("div",R,[(p(!0),r(j,null,N(v.value,(e,f)=>(p(),r("div",{key:e.key,style:{display:"flex","align-items":"center"}},[t("div",{style:C({width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",backgroundColor:f+1<=a.value?"#007bff":"#ddd",color:f+1<=a.value?"white":"#666"})},n(f+1),5),t("span",{style:C({marginLeft:"8px",fontSize:"14px",color:f+1<=a.value?"#007bff":"#666"})},n(e.title),5),f<v.value.length-1?(p(),r("div",$)):m("",!0)]))),128))])]),t("div",q,[a.value===1?(p(),r("div",A,[t("div",W,[t("h3",Y,n(i(s)("page.setup.step1.title")),1)]),t("div",Z,[t("p",G,n(i(s)("page.setup.step1.welcome")),1),t("p",J,n(i(s)("page.setup.step1.requirements")),1),t("div",K,[t("p",O,n(i(s)("page.setup.step1.disclaimer")),1)]),t("div",Q,[t("p",X,n(i(s)("page.setup.step1.agreement")),1)])]),t("div",tt,[t("button",{onClick:y,style:{"background-color":"#007bff",color:"white",padding:"10px 20px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[0]||(o[0]=e=>e.target.style.backgroundColor="#0056b3"),onMouseout:o[1]||(o[1]=e=>e.target.style.backgroundColor="#007bff")},n(i(s)("page.setup.buttons.start")),33)])])):m("",!0),a.value===2?(p(),r("div",ot,[t("div",et,[t("h3",st,n(i(s)("page.setup.step2.title")),1),t("p",nt,n(i(s)("page.setup.step2.description")),1)]),t("div",it,[t("div",dt,[t("label",at,n(i(s)("page.setup.step2.host")),1),l(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>d.value.apiHost=e),type:"text",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.apiHost]])]),t("div",rt,[t("label",pt,n(i(s)("page.setup.step2.port")),1),l(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>d.value.apiPort=e),type:"number",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.apiPort]])]),t("div",lt,[t("label",ut,n(i(s)("page.setup.step2.protocol")),1),l(t("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>d.value.apiProtocol=e),style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},o[30]||(o[30]=[t("option",{value:"http"},"HTTP",-1),t("option",{value:"https"},"HTTPS",-1)]),512),[[V,d.value.apiProtocol]])])]),t("div",bt,[t("button",{onClick:g,style:{"background-color":"#6c757d",color:"white",padding:"10px 20px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[5]||(o[5]=e=>e.target.style.backgroundColor="#545b62"),onMouseout:o[6]||(o[6]=e=>e.target.style.backgroundColor="#6c757d")},n(i(s)("page.setup.buttons.previous")),33),t("button",{onClick:y,style:{"background-color":"#007bff",color:"white",padding:"10px 20px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[7]||(o[7]=e=>e.target.style.backgroundColor="#0056b3"),onMouseout:o[8]||(o[8]=e=>e.target.style.backgroundColor="#007bff")},n(i(s)("page.setup.buttons.next")),33)])])):m("",!0),a.value===3?(p(),r("div",xt,[t("div",gt,[t("h3",mt,n(i(s)("page.setup.step3.title")),1),t("p",yt,n(i(s)("page.setup.step3.description")),1)]),t("div",ct,[t("div",ft,[t("label",vt,n(i(s)("page.setup.step3.host")),1),l(t("input",{"onUpdate:modelValue":o[9]||(o[9]=e=>d.value.databaseHost=e),type:"text",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.databaseHost]])]),t("div",_t,[t("label",ht,n(i(s)("page.setup.step3.port")),1),l(t("input",{"onUpdate:modelValue":o[10]||(o[10]=e=>d.value.databasePort=e),type:"number",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.databasePort]])]),t("div",kt,[t("label",wt,n(i(s)("page.setup.step3.database")),1),l(t("input",{"onUpdate:modelValue":o[11]||(o[11]=e=>d.value.databaseName=e),type:"text",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.databaseName]])]),t("div",zt,[t("label",Ct,n(i(s)("page.setup.step3.username")),1),l(t("input",{"onUpdate:modelValue":o[12]||(o[12]=e=>d.value.databaseUsername=e),type:"text",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.databaseUsername]])]),t("div",Pt,[t("label",Mt,n(i(s)("page.setup.step3.password")),1),l(t("input",{"onUpdate:modelValue":o[13]||(o[13]=e=>d.value.databasePassword=e),type:"password",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.databasePassword]])]),t("div",Ut,[t("button",{onClick:x,style:{width:"100%","background-color":"#28a745",color:"white",padding:"10px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[14]||(o[14]=e=>e.target.style.backgroundColor="#218838"),onMouseout:o[15]||(o[15]=e=>e.target.style.backgroundColor="#28a745")},n(i(s)("page.setup.step3.testConnection")),33)])]),t("div",Vt,[t("button",{onClick:g,style:{"background-color":"#6c757d",color:"white",padding:"10px 20px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[16]||(o[16]=e=>e.target.style.backgroundColor="#545b62"),onMouseout:o[17]||(o[17]=e=>e.target.style.backgroundColor="#6c757d")},n(i(s)("page.setup.buttons.previous")),33),t("button",{onClick:y,style:{"background-color":"#007bff",color:"white",padding:"10px 20px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[18]||(o[18]=e=>e.target.style.backgroundColor="#0056b3"),onMouseout:o[19]||(o[19]=e=>e.target.style.backgroundColor="#007bff")},n(i(s)("page.setup.buttons.next")),33)])])):m("",!0),a.value===4?(p(),r("div",St,[t("div",Ht,[t("h3",Tt,n(i(s)("page.setup.step4.title")),1),t("p",jt,n(i(s)("page.setup.step4.description")),1)]),t("div",Nt,[t("div",Bt,[t("label",It,n(i(s)("page.setup.step4.username")),1),l(t("input",{"onUpdate:modelValue":o[20]||(o[20]=e=>d.value.adminUsername=e),type:"text",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.adminUsername]])]),t("div",Lt,[t("label",Dt,n(i(s)("page.setup.step4.password")),1),l(t("input",{"onUpdate:modelValue":o[21]||(o[21]=e=>d.value.adminPassword=e),type:"password",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.adminPassword]])]),t("div",Et,[t("label",Ft,n(i(s)("page.setup.step4.confirmPassword")),1),l(t("input",{"onUpdate:modelValue":o[22]||(o[22]=e=>d.value.adminConfirmPassword=e),type:"password",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.adminConfirmPassword]])]),t("div",Rt,[t("label",$t,n(i(s)("page.setup.step4.email")),1),l(t("input",{"onUpdate:modelValue":o[23]||(o[23]=e=>d.value.adminEmail=e),type:"email",style:{width:"100%",padding:"8px",border:"1px solid #ddd","border-radius":"4px","font-size":"14px"}},null,512),[[u,d.value.adminEmail]])])]),t("div",qt,[t("button",{onClick:g,style:{"background-color":"#6c757d",color:"white",padding:"10px 20px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[24]||(o[24]=e=>e.target.style.backgroundColor="#545b62"),onMouseout:o[25]||(o[25]=e=>e.target.style.backgroundColor="#6c757d")},n(i(s)("page.setup.buttons.previous")),33),t("button",{onClick:c,disabled:b.value,style:{"background-color":"#007bff",color:"white",padding:"10px 20px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"14px"},onMouseover:o[26]||(o[26]=e=>e.target.style.backgroundColor="#0056b3"),onMouseout:o[27]||(o[27]=e=>e.target.style.backgroundColor="#007bff")},[b.value?(p(),r("span",Wt,"安装中...")):(p(),r("span",Yt,n(i(s)("page.setup.buttons.install")),1))],40,At)])])):m("",!0),a.value===5?(p(),r("div",Zt,[t("div",Gt,[(p(),r("svg",Jt,o[31]||(o[31]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])))]),t("div",Kt,[t("h3",Ot,n(i(s)("page.setup.step5.success")),1),t("p",Qt,n(i(s)("page.setup.step5.description")),1)]),t("button",{onClick:M,style:{"background-color":"#007bff",color:"white",padding:"12px 32px",border:"none","border-radius":"4px",cursor:"pointer","font-size":"16px"},onMouseover:o[28]||(o[28]=e=>e.target.style.backgroundColor="#0056b3"),onMouseout:o[29]||(o[29]=e=>e.target.style.backgroundColor="#007bff")},n(i(s)("page.setup.step5.loginButton")),33)])):m("",!0)])])]))}}),so=S(Xt,[["__scopeId","data-v-d0aec183"]]);export{so as default};
